{
  "_id":"_design/caliper",
  "language":"javascript",
  "views":{
    "events":{
      "map": "function(doc){\n  if(doc.type === 'caliperEvent'){\n    emit(doc._id, doc);\n  }\n}"
    },
    "users": {
      "map": "function(doc){\n  if(doc.type === 'user'){\n    if(doc.username){\n      emit({username:doc.username}, doc);\n    } \n    if(doc.openid){\n      emit({openid:doc.openid}, doc);\n    }\n  }\n}"
    },
    "apiKeys": {
      "map": "function(doc){\n  if(doc.type === 'user'){\n    if(doc.apiKey){\n      emit(doc.apiKey, doc);\n    }\n  }\n}"
    }
  }
}
